{
  "query": "-- Histórico de Ações no Fluxo de Aprovação\nCREATE TABLE IF NOT EXISTS jobDescriptionApprovalHistory (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  flowId INT NOT NULL,\n  jobDescriptionId INT NOT NULL,\n  action ENUM('created', 'submitted', 'approved', 'rejected', 'returned', 'resubmitted', 'cancelled') NOT NULL,\n  level INT NOT NULL,\n  levelName VARCHAR(100),\n  userId INT NOT NULL,\n  userName VARCHAR(255),\n  userRole VARCHAR(100),\n  comments TEXT,\n  previousState JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Rotinas do Usuário\nCREATE TABLE IF NOT EXISTS activityRoutines (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employeeId INT NOT NULL,\n  jobDescriptionId INT,\n  responsibilityId INT,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  frequency ENUM('diaria', 'semanal', 'quinzenal', 'mensal', 'trimestral', 'eventual') NOT NULL,\n  estimatedMinutes INT,\n  category ENUM('processo', 'analise', 'planejamento', 'comunicacao', 'reuniao', 'relatorio', 'suporte', 'administrativo', 'outros') NOT NULL,\n  isLinkedToJobDescription BOOLEAN DEFAULT FALSE NOT NULL,\n  matchPercentage INT DEFAULT 0,\n  matchNotes TEXT,\n  weekDays JSON,\n  active BOOLEAN DEFAULT TRUE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Logs de Atividades de Desktop/Laptop\nCREATE TABLE IF NOT EXISTS desktopActivityLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employeeId INT NOT NULL,\n  activityType ENUM('application', 'website', 'document', 'meeting', 'email', 'idle', 'other') NOT NULL,\n  applicationName VARCHAR(255),\n  windowTitle VARCHAR(500),\n  url VARCHAR(1000),\n  documentPath VARCHAR(500),\n  startTime DATETIME NOT NULL,\n  endTime DATETIME,\n  durationSeconds INT,\n  autoCategory VARCHAR(100),\n  matchedResponsibilityId INT,\n  confidenceScore INT,\n  deviceId VARCHAR(100),\n  deviceType ENUM('desktop', 'laptop', 'mobile') DEFAULT 'desktop',\n  processed BOOLEAN DEFAULT FALSE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Confronto de Atividades com Descrição de Cargo\nCREATE TABLE IF NOT EXISTS activityJobDescriptionMatch (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employeeId INT NOT NULL,\n  jobDescriptionId INT NOT NULL,\n  periodStart DATE NOT NULL,\n  periodEnd DATE NOT NULL,\n  totalActivitiesLogged INT DEFAULT 0,\n  activitiesMatchedToJob INT DEFAULT 0,\n  activitiesNotInJob INT DEFAULT 0,\n  responsibilitiesNotExecuted INT DEFAULT 0,\n  adherencePercentage INT DEFAULT 0,\n  coveragePercentage INT DEFAULT 0,\n  matchDetails JSON,\n  gapsIdentified JSON,\n  suggestedAdjustments JSON,\n  executiveSummary TEXT,\n  status ENUM('processing', 'completed', 'reviewed') DEFAULT 'processing' NOT NULL,\n  reviewedBy INT,\n  reviewedAt DATETIME,\n  reviewComments TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Configuração de Aprovadores Padrão por Departamento\nCREATE TABLE IF NOT EXISTS departmentApprovalConfig (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  departmentId INT NOT NULL,\n  defaultCsSpecialistId INT,\n  defaultCsSpecialistName VARCHAR(255),\n  defaultHrManagerId INT,\n  defaultHrManagerName VARCHAR(255),\n  defaultGaiDirectorId INT,\n  defaultGaiDirectorName VARCHAR(255),\n  active BOOLEAN DEFAULT TRUE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2zjpxFGuGsCP7jR.root --database Vd5BJ8toX8cUC4zST6itFN --execute -- Histórico de Ações no Fluxo de Aprovação\nCREATE TABLE IF NOT EXISTS jobDescriptionApprovalHistory (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  flowId INT NOT NULL,\n  jobDescriptionId INT NOT NULL,\n  action ENUM('created', 'submitted', 'approved', 'rejected', 'returned', 'resubmitted', 'cancelled') NOT NULL,\n  level INT NOT NULL,\n  levelName VARCHAR(100),\n  userId INT NOT NULL,\n  userName VARCHAR(255),\n  userRole VARCHAR(100),\n  comments TEXT,\n  previousState JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Rotinas do Usuário\nCREATE TABLE IF NOT EXISTS activityRoutines (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employeeId INT NOT NULL,\n  jobDescriptionId INT,\n  responsibilityId INT,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  frequency ENUM('diaria', 'semanal', 'quinzenal', 'mensal', 'trimestral', 'eventual') NOT NULL,\n  estimatedMinutes INT,\n  category ENUM('processo', 'analise', 'planejamento', 'comunicacao', 'reuniao', 'relatorio', 'suporte', 'administrativo', 'outros') NOT NULL,\n  isLinkedToJobDescription BOOLEAN DEFAULT FALSE NOT NULL,\n  matchPercentage INT DEFAULT 0,\n  matchNotes TEXT,\n  weekDays JSON,\n  active BOOLEAN DEFAULT TRUE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Logs de Atividades de Desktop/Laptop\nCREATE TABLE IF NOT EXISTS desktopActivityLogs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employeeId INT NOT NULL,\n  activityType ENUM('application', 'website', 'document', 'meeting', 'email', 'idle', 'other') NOT NULL,\n  applicationName VARCHAR(255),\n  windowTitle VARCHAR(500),\n  url VARCHAR(1000),\n  documentPath VARCHAR(500),\n  startTime DATETIME NOT NULL,\n  endTime DATETIME,\n  durationSeconds INT,\n  autoCategory VARCHAR(100),\n  matchedResponsibilityId INT,\n  confidenceScore INT,\n  deviceId VARCHAR(100),\n  deviceType ENUM('desktop', 'laptop', 'mobile') DEFAULT 'desktop',\n  processed BOOLEAN DEFAULT FALSE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Confronto de Atividades com Descrição de Cargo\nCREATE TABLE IF NOT EXISTS activityJobDescriptionMatch (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employeeId INT NOT NULL,\n  jobDescriptionId INT NOT NULL,\n  periodStart DATE NOT NULL,\n  periodEnd DATE NOT NULL,\n  totalActivitiesLogged INT DEFAULT 0,\n  activitiesMatchedToJob INT DEFAULT 0,\n  activitiesNotInJob INT DEFAULT 0,\n  responsibilitiesNotExecuted INT DEFAULT 0,\n  adherencePercentage INT DEFAULT 0,\n  coveragePercentage INT DEFAULT 0,\n  matchDetails JSON,\n  gapsIdentified JSON,\n  suggestedAdjustments JSON,\n  executiveSummary TEXT,\n  status ENUM('processing', 'completed', 'reviewed') DEFAULT 'processing' NOT NULL,\n  reviewedBy INT,\n  reviewedAt DATETIME,\n  reviewComments TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Configuração de Aprovadores Padrão por Departamento\nCREATE TABLE IF NOT EXISTS departmentApprovalConfig (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  departmentId INT NOT NULL,\n  defaultCsSpecialistId INT,\n  defaultCsSpecialistName VARCHAR(255),\n  defaultHrManagerId INT,\n  defaultHrManagerName VARCHAR(255),\n  defaultGaiDirectorId INT,\n  defaultGaiDirectorName VARCHAR(255),\n  active BOOLEAN DEFAULT TRUE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 826
}