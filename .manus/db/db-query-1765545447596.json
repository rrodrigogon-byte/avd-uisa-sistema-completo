{
  "query": "\nCREATE TABLE IF NOT EXISTS pirAssessments (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employeeId INT NOT NULL,\n  cycleId INT,\n  assessmentDate DATETIME NOT NULL,\n  status ENUM('pendente', 'em_andamento', 'concluida', 'cancelada') DEFAULT 'pendente' NOT NULL,\n  videoUrl VARCHAR(512),\n  videoKey VARCHAR(512),\n  videoDuration INT,\n  videoRecordedAt DATETIME,\n  overallScore INT,\n  comments TEXT,\n  evaluatorId INT,\n  createdBy INT NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  completedAt DATETIME\n);\n\nCREATE TABLE IF NOT EXISTS videoMetadata (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  pirAssessmentId INT NOT NULL,\n  facesDetected BOOLEAN DEFAULT FALSE NOT NULL,\n  multipleFacesDetected BOOLEAN DEFAULT FALSE NOT NULL,\n  noFaceDetected BOOLEAN DEFAULT FALSE NOT NULL,\n  personChanged BOOLEAN DEFAULT FALSE NOT NULL,\n  totalFramesAnalyzed INT DEFAULT 0,\n  framesWithFace INT DEFAULT 0,\n  framesWithMultipleFaces INT DEFAULT 0,\n  framesWithNoFace INT DEFAULT 0,\n  multipleFacesTimestamps JSON,\n  noFaceTimestamps JSON,\n  personChangeTimestamps JSON,\n  faceDescriptors JSON,\n  validationPassed BOOLEAN DEFAULT FALSE NOT NULL,\n  validationScore INT,\n  validationNotes TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS pirQuestions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  cycleId INT,\n  questionText TEXT NOT NULL,\n  questionType ENUM('texto', 'multipla_escolha', 'escala', 'sim_nao') NOT NULL,\n  questionCategory VARCHAR(100),\n  options JSON,\n  scaleMin INT,\n  scaleMax INT,\n  scaleLabels JSON,\n  required BOOLEAN DEFAULT TRUE NOT NULL,\n  `order` INT DEFAULT 0,\n  active BOOLEAN DEFAULT TRUE NOT NULL,\n  createdBy INT NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS pirAnswers (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  pirAssessmentId INT NOT NULL,\n  questionId INT NOT NULL,\n  answerText TEXT,\n  answerOption VARCHAR(255),\n  answerScale INT,\n  answerBoolean BOOLEAN,\n  answeredAt DATETIME NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2zjpxFGuGsCP7jR.root --database Vd5BJ8toX8cUC4zST6itFN --execute \nCREATE TABLE IF NOT EXISTS pirAssessments (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employeeId INT NOT NULL,\n  cycleId INT,\n  assessmentDate DATETIME NOT NULL,\n  status ENUM('pendente', 'em_andamento', 'concluida', 'cancelada') DEFAULT 'pendente' NOT NULL,\n  videoUrl VARCHAR(512),\n  videoKey VARCHAR(512),\n  videoDuration INT,\n  videoRecordedAt DATETIME,\n  overallScore INT,\n  comments TEXT,\n  evaluatorId INT,\n  createdBy INT NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  completedAt DATETIME\n);\n\nCREATE TABLE IF NOT EXISTS videoMetadata (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  pirAssessmentId INT NOT NULL,\n  facesDetected BOOLEAN DEFAULT FALSE NOT NULL,\n  multipleFacesDetected BOOLEAN DEFAULT FALSE NOT NULL,\n  noFaceDetected BOOLEAN DEFAULT FALSE NOT NULL,\n  personChanged BOOLEAN DEFAULT FALSE NOT NULL,\n  totalFramesAnalyzed INT DEFAULT 0,\n  framesWithFace INT DEFAULT 0,\n  framesWithMultipleFaces INT DEFAULT 0,\n  framesWithNoFace INT DEFAULT 0,\n  multipleFacesTimestamps JSON,\n  noFaceTimestamps JSON,\n  personChangeTimestamps JSON,\n  faceDescriptors JSON,\n  validationPassed BOOLEAN DEFAULT FALSE NOT NULL,\n  validationScore INT,\n  validationNotes TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS pirQuestions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  cycleId INT,\n  questionText TEXT NOT NULL,\n  questionType ENUM('texto', 'multipla_escolha', 'escala', 'sim_nao') NOT NULL,\n  questionCategory VARCHAR(100),\n  options JSON,\n  scaleMin INT,\n  scaleMax INT,\n  scaleLabels JSON,\n  required BOOLEAN DEFAULT TRUE NOT NULL,\n  `order` INT DEFAULT 0,\n  active BOOLEAN DEFAULT TRUE NOT NULL,\n  createdBy INT NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS pirAnswers (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  pirAssessmentId INT NOT NULL,\n  questionId INT NOT NULL,\n  answerText TEXT,\n  answerOption VARCHAR(255),\n  answerScale INT,\n  answerBoolean BOOLEAN,\n  answeredAt DATETIME NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 645
}